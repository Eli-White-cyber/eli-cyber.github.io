<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cyber Projects — Elijah White</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet" href="style.css">
</head>
<body data-theme="light">

  <!-- LEFT NAV -->
  <nav class="nav-left" aria-label="Main navigation">
    <div class="brand">
      <div class="logo">EW</div>
      <div class="brand-text">
        <div class="name">Elijah White</div>
        <div class="sub">Cyber Portfolio</div>
      </div>
    </div>

    <ul class="nav-links">
      <li><a href="index.html" class="nav-link">Home</a></li>
      <li><a href="posts.html" class="nav-link">All Posts</a></li>
      <li><a href="about.html" class="nav-link">About Me</a></li>
      <li><a href="projects.html" class="nav-link">Projects</a></li>
    </ul>

    <div class="nav-bottom">
      <button class="toggle">Toggle Dark Mode</button>
      <div class="small-note">JetBrains × Clean Tech</div>
    </div>
  </nav>

  <!-- CONTENT WRAPPER -->
  <div class="content-wrapper">

    <!-- CENTER / MAIN -->
    <main class="center-column">
      <section class="projects">
        <h1>Cyber Projects & Labs</h1>

        <a href="projects/project-1.html" class="project-card-link">
          <div class="post-card">
            <h3>Home SOC Lab</h3>
            <p>Details about lab setup, tools, and threat simulations.</p>
          </div>
        </a>


      </section>
    </main>

    <!-- RIGHT PANEL -->
    <aside class="right-column" aria-label="Info and live feed">
      <section class="card">
        <h3>Skills & Certs</h3>
        <ul class="small-list">
          <li>CompTIA Security+, Network+</li>
          <li>CCNA (in progress), CySA+ (studying)</li>
          <li>Network Security · Incident Response · Threat Intel</li>
          <li>Python · C++ · Log Analysis · OSINT</li>
        </ul>
      </section>

      <section class="card" id="live-feed-card">
        <h3>Live Cyber Intel</h3>
        <div id="live-feed">
          <p class="muted">Loading live feed…</p>
        </div>
        <small class="muted">Source: CISA / public feeds</small>
      </section>
    </aside>

  </div>

  <!-- SCRIPT: Dark mode + live feed -->
  <script>
    const body = document.body;
    const toggleBtn = document.querySelector('.toggle');

    if (localStorage.getItem('theme')) {
      body.setAttribute('data-theme', localStorage.getItem('theme'));
    }

    toggleBtn.addEventListener('click', () => {
      const current = body.getAttribute('data-theme') || 'light';
      const next = current === 'light' ? 'dark' : 'light';
      body.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    });

    async function loadLiveFeed() {
      const feedContainer = document.getElementById('live-feed');
      feedContainer.innerHTML = '<p class="muted">Fetching live feed…</p>';

      const LIVE_FEED_PROXY = 'https://api.allorigins.win/raw?url=';
      const LIVE_FEED_URLS = [
        'https://www.cisa.gov/uscert/ncas/alerts.xml',
        'https://www.us-cert.gov/ncas/alerts.xml'
      ];

      for (const url of LIVE_FEED_URLS) {
        try {
          const resp = await fetch(LIVE_FEED_PROXY + encodeURIComponent(url));
          if (!resp.ok) throw new Error('proxy fetch failed');
          const text = await resp.text();
          const parser = new DOMParser();
          const xml = parser.parseFromString(text, 'application/xml');
          const items = Array.from(xml.querySelectorAll('item')).slice(0,6);
          if (!items.length) throw new Error('no items');
          feedContainer.innerHTML = items.map(it => {
            const title = it.querySelector('title')?.textContent || 'No title';
            const link = it.querySelector('link')?.textContent || '#';
            const pub = it.querySelector('pubDate')?.textContent || '';
            return `<div class="feed-item"><a href="${link}" target="_blank" rel="noopener">${title}</a><div class="muted small">${pub}</div></div>`;
          }).join('');
          return;
        } catch (err) {
          console.warn('feed failed for', url, err);
        }
      }

      feedContainer.innerHTML = `
        <div class="feed-item">• Microsoft issues emergency patch for Exchange servers</div>
        <div class="feed-item">• New CVE disclosed in widely used VPN appliances</div>
        <div class="feed-item">• US-CERT advisory: phishing campaign targeting finance</div>
      `;
    }

    document.addEventListener('DOMContentLoaded', loadLiveFeed);
  </script>

</body>
</html>
